%% Linear Control Systems
% * Homework 4 
% * Problem 2
% *  Arthor: Xinyi Cai
%% Housekeeping
clear all
clc

%% Soluton
tspan = [0:0.1:150]; 
x0 = [1 0]; 
%u = [0:0.1: 10]; % input
options = odeset('RelTol', 1.0E-08, 'AbsTol', 1.0E-08);
w = [0:0.1:10]; % input

for i = 1:length(w)
    [tout{i}, yout{i}] = ode45(@inv_pend, tspan, x0, options, w(i)); 

end

subplot(121)
plot(tout{1}, yout(:, 1)); 

subplot(122)
plot(tout, yout(:, 2)); 