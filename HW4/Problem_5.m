clear all
clc

syms w
A = [0 1 0 0;...
    3*w^2 0 0 2*w;...
    0 0 0 1;...
    0 -2*w 0 1]; 
B = [0 0; 1 0; 0 0; 0 1]; 

P1 = [B(:, 1) A*B(:, 1) A^2*B(:, 1) A^3*B(:, 1)]

d_1 = det(P1)

P2 = [B(:, 2) A*B(:, 2) A^2*B(:, 2) A^3*B(:, 2)] 

d_2 = det(P2)

rank([P1 P2])